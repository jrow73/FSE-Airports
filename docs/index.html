<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FSE Airport Map Viewer</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
  <link rel="stylesheet" href="./css/styles.css" />
</head>
<body>
  <div id="app">
    <!-- Top header bar -->
    <header class="topbar">
      <div class="top-left">
        <span class="app-title">Airports</span>
        <span id="loading" class="loading hidden">Loading…</span>
      </div>
    
      <div class="top-center">
        <div class="search-wrap">
            <input
            id="searchInput"
            class="search"
            type="search"
            placeholder="Search ICAO, name, city, country… lat/lon (Press Enter)"
            autocomplete="off"
            />

        </div>
      </div>

      <div class="top-right">
        <button id="filtersBtn" class="menu-btn" aria-expanded="false">Filters ▾</button>
      </div>
    </header>

    <!-- Slide-down filters panel -->
    <section id="filtersPanel" class="panel" aria-hidden="true">
      <div class="panel-inner">
        <div class="grid">
          <div class="field">
            <label for="countrySelect">Country</label>
            <select id="countrySelect">
              <option value="">All</option>
            </select>
          </div>

          <div class="field">
            <label for="typeSelect">Type</label>
            <select id="typeSelect">
              <option value="">All</option>
              <option value="civil">Civil</option>
              <option value="military">Military</option>
              <option value="water">Water</option>
            </select>
          </div>

          <div class="field">
            <label for="sizeSelect">Size</label>
            <select id="sizeSelect">
              <option value="">All</option>
              <option value="small">Small</option>
              <option value="medium">Medium</option>
              <option value="large">Large</option>
            </select>
          </div>

          <div class="field">
            <label for="surfaceSelect">Surface Type</label>
            <select id="surfaceSelect">
              <option value="">All</option>
            </select>
          </div>

          <div class="field">
            <label for="servicesSelect">Services</label>
            <select id="servicesSelect">
              <option value="">Any</option>
              <option value="0">0</option>
              <option value="3">3</option>
              <option value="7">7</option>
            </select>
          </div>

          <div class="field">
            <label for="rwyMin">Runway Min (ft)</label>
            <input
              id="rwyMin"
              type="number"
              inputmode="numeric"
              min="0"
              step="500"
              placeholder="0"
            />
          </div>

          <div class="field">
            <label for="rwyMax">Runway Max (ft)</label>
            <input
              id="rwyMax"
              type="number"
              inputmode="numeric"
              min="0"
              step="500"
              placeholder="15000"
            />
          </div>
        </div>

        <div class="panel-actions">
          <div id="count" class="count"></div>
          <div class="panel-buttons">
            <button id="filtersClear" class="ghost">Clear</button>
            <button id="filtersClose">Close</button>
          </div>
        </div>
      </div>
    </section>


    <!-- Map fills the rest -->
    <main id="map"></main>
  </div>

  <!-- Leaflet core (once) -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>

  <!-- Leaflet.glify browser build (once) -->
  <script src="https://cdn.jsdelivr.net/npm/leaflet.glify@3.3.1/dist/glify-browser.js"></script>

  <!-- Your app scripts -->
  <script src="./js/map.js"></script>
  <script src="./js/gl-renderer.js"></script>
  <script src="./js/search.js"></script>
  <script src="./js/app.js"></script>
</body>
</html>
